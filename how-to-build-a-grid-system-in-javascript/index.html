<!doctype html>
<html lang="en">
	<head>
	<!-- A real motherfucking head just like we planned, let see: -->
		<title>How to build a Grid system in JavaScript | thoughtsunificator.me</title>
		<!-- Used mostly for emojis -->
		<meta charset="UTF-8">
		<!-- Because it sucks to read as if you're reading from ten feets away when in reality your smartphone is glued to your face -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Just a few millions of lines, mostly useless and pathetic "aesthetics" black magick kind of stuff -->
		<link rel="stylesheet" type="text/css" href="/main.css">
		<!-- Used for syntax highlighting inside posts -->
		<link rel="stylesheet" type="text/css" href="/okaida.css">
		<!-- https://w3c.github.io/manifest/ -->
		<link rel="manifest" href="/manifest.webmanifest">
	</head>
	<body class="">
		<main id="main">
			
	<article class="post full">
		
		<div class="metas">
			
			<div class="tags">
				<a class="tag" href="/tags/tutorial/">#tutorial</a>
			</div>
		</div>
		
		<div id="post-content"><h2 id="introduction">Introduction</h2>
<p>While making my <a href="https://github.com/thoughtsunificator/userinterface.js-puissance4">connect four</a> in JavaScript I thought it would be great to build a reusable and scalable grid system.</p>
<p>That's what I will be sharing today.</p>
<h2 id="grid">Grid</h2>
<p>First, let's go through the basics, exactly how can we define a grid system? We could say that a grid is made of cells that are organized into rows.</p>
<p>Let's start from here and make a <code>Grid</code> class that will hold our rows:</p>
<p><code>grid.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Grid</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_rows <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * @readonly
   * @type {object}
   */</span>
  <span class="token keyword">get</span> <span class="token function">rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_rows
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<p>Here, my <code>rows</code> variable type is an <code>object</code> but you could also use an <code>array</code>.</p>
<h2 id="row">Row</h2>
<p>Now that we have our grid class ready, let's create a <code>Row</code> class:</p>
<p><code>row.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Row</span> <span class="token punctuation">{</span>

  <span class="token comment">/**
   * @param {number} x
   */</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>_cells <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * @readonly
   * @type {object}
   */</span>
  <span class="token keyword">get</span> <span class="token function">cells</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_cells
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * @readonly
   * @type {number}
   */</span>
  <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_x
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<p>As you can see <code>Row</code> is in fact an abstraction of <code>x</code> in our grid. Just like the <code>Grid</code> class holds rows our <code>Row</code> class holds cells.</p>
<p>From here the next step would be to add cells to the grid, so let's create a method inside our <code>Grid</code> class that'll do just that.</p>
<h2 id="adding-cells-to-our-grid">Adding cells to our grid</h2>
<p><code>grid.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">/**
 * @param {number} x
 * @param {number} y
 * @returns {Cell}
 */</span>
<span class="token function">addCell</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cell</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  cell<span class="token punctuation">.</span>_row <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> cell
<span class="token punctuation">}</span></code></pre>
<p>Now we can do something like:
<code>demo.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>Now that we're good with the row part let's dive into the cell part.</p>
<h2 id="cell">Cell</h2>
<p><code>cell.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Cell</span> <span class="token punctuation">{</span>

  <span class="token comment">/**
   * @param {number} x
   * @param {number} y
   */</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>_y <span class="token operator">=</span> y
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * @readonly
   * @type {number}
   */</span>
  <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_x
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * @readonly
   * @type {number}
   */</span>
  <span class="token keyword">get</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_y
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<p><code>demo.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>Let's build a 4x4 grid then.</p>
<h2 id="4x4-grid">4x4 grid</h2>
<p><code>demo.js</code></p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token number">4</span>
<span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>There are lots more that we could do but let's save it for later...</p>
<p>Also, check out the library I made out of this grid system: https://github.com/thoughtsunificator/grid.</p>
</div>
	</article>
		</main>
		<footer id="footer">
			<nav>
				<a href="/">Home</a><a href="/tags/">Tags</a><a href="/about/">About</a><a href="/manifesto/">Manifesto</a>
				<div class="icons" style="filter: invert(1)">
					<a title="Github" target="_blank" rel="noopener" href="https://github.com/thoughtsunificator">
						<img width="32" alt="View source code on Github" src="/image/github.svg">
					</a>
				</div>
		</nav>
			<span class="tagline">a boundless expression of thoughts</span>
			<span>Built with <a rel="noreferrer" target="_blank" href="https://www.11ty.dev/">Eleventy</a><br>Inspired by <a rel="noreferrer" target="_blank" href="http://motherfuckingwebsite.com">a certain website...</a></span>
		</footer>
	</body>
</html>