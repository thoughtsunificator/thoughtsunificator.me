<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>How to build a Grid system in JavaScript | thoughtsunificator.me</title><link href="/main.bundle.css" rel="stylesheet" type="text/css"><link href="/manifest.webmanifest" rel="manifest"></head><body><header id="header"><h1>a boundless expression of thoughts</h1><nav><a href="/">Home</a><a href="/archive/">Archive</a><a href="/tags/">Tags</a><a href="/about/">About</a></nav></header><main id="main"><h2 class="title">How to build a Grid system in JavaScript</h2><article class="full post"><div class="metas"><time datetime="2021-10-29T00:00:00.000Z">29 October 2021</time><div class="tags"><a href="/tags/tutorial/" class="tag">#tutorial</a></div></div><div id="post-content"><h2 id="introduction" tabindex="-1">Introduction</h2><p>While making my <a href="https://github.com/thoughtsunificator/userinterface.js-puissance4" target="_blank" rel="noopener noreferrer" class="external">connect four</a> in JavaScript I thought it would be great to build a reusable and scalable grid system.</p><p>That’s what I will be sharing today.</p><h2 id="grid" tabindex="-1">Grid</h2><p>First, let’s go through the basics, exactly how can we define a grid system? We could say that a grid is made of cells that are organized into rows.</p><p>Let’s start from here and make a <code>Grid</code> class that will hold our rows:</p><p><code>grid.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Grid</span> <span class="token punctuation">{</span><br><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_rows <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/**<br>   * @readonly<br>   * @type {object}<br>   */</span><br>  <span class="token keyword">get</span> <span class="token function">rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_rows<br>  <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span></code></pre><p>Here, my <code>rows</code> variable type is an <code>object</code> but you could also use an <code>array</code>.</p><h2 id="row" tabindex="-1">Row</h2><p>Now that we have our grid class ready, let’s create a <code>Row</code> class:</p><p><code>row.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Row</span> <span class="token punctuation">{</span><br><br>  <span class="token comment">/**<br>   * @param {number} x<br>   */</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_x <span class="token operator">=</span> x<br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_cells <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/**<br>   * @readonly<br>   * @type {object}<br>   */</span><br>  <span class="token keyword">get</span> <span class="token function">cells</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_cells<br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/**<br>   * @readonly<br>   * @type {number}<br>   */</span><br>  <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_x<br>  <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span></code></pre><p>As you can see <code>Row</code> is in fact an abstraction of <code>x</code> in our grid. Just like the <code>Grid</code> class holds rows our <code>Row</code> class holds cells.</p><p>From here the next step would be to add cells to the grid, so let’s create a method inside our <code>Grid</code> class that’ll do just that.</p><h2 id="adding-cells-to-our-grid" tabindex="-1">Adding cells to our grid</h2><p><code>grid.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token comment">/**<br> * @param {number} x<br> * @param {number} y<br> * @returns {Cell}<br> */</span><br><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> cell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cell</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><br>  cell<span class="token punctuation">.</span>_row <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span><br>  <span class="token keyword">this</span><span class="token punctuation">.</span>rows<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>cells<span class="token punctuation">[</span>cell<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> cell<br><span class="token punctuation">}</span></code></pre><p>Now we can do something like: <code>demo.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre><p>Now that we’re good with the row part let’s dive into the cell part.</p><h2 id="cell" tabindex="-1">Cell</h2><p><code>cell.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Cell</span> <span class="token punctuation">{</span><br><br>  <span class="token comment">/**<br>   * @param {number} x<br>   * @param {number} y<br>   */</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_x <span class="token operator">=</span> x<br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_y <span class="token operator">=</span> y<br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/**<br>   * @readonly<br>   * @type {number}<br>   */</span><br>  <span class="token keyword">get</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_x<br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/**<br>   * @readonly<br>   * @type {number}<br>   */</span><br>  <span class="token keyword">get</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_y<br>  <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span></code></pre><p><code>demo.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre><p>Let’s build a 4x4 grid then.</p><h2 id="4x4-grid" tabindex="-1">4x4 grid</h2><p><code>demo.js</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token number">4</span><br><span class="token keyword">const</span> grid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Grid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    grid<span class="token punctuation">.</span><span class="token function">addCell</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>There are lots more that we could do but let’s save it for later…</p><p>Also, check out the library I made out of this grid system: <a href="https://github.com/thoughtsunificator/grid" target="_blank" rel="noopener noreferrer" class="external">https://github.com/thoughtsunificator/grid</a>.</p></div></article></main><footer id="footer"><small>Built using <a href="https://www.11ty.dev/" target="_blank">Eleventy</a></small> <small class="copyright">© <a href="https://thoughtsunificator.me" target="_blank" rel="author">Romain Lebesle</a></small><div class="icons"><a href="https://twitter.com/thoughtsunifier" target="_blank" rel="noopener" title="Twitter"><img alt="Twitter Profile" src="/image/twitter.svg" width="32"></a><a href="https://github.com/thoughtsunificator" target="_blank" rel="noopener" title="Github"><img alt="View source code on Github" src="/image/github.svg" width="32"></a></div></footer></body></html>