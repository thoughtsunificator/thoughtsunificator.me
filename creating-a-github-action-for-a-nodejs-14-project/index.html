<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>Creating a Github action for a Node.js 14+ project | thoughtsunificator.me</title><link href="/favicon.ico" rel="icon"><link href="/main.bundle.css" rel="stylesheet" type="text/css"><link href="/manifest.webmanifest" rel="manifest"><link href="/image/apple-touch-icon.webp" rel="apple-touch-icon" sizes="180x180"><link href="/image/favicon-32x32.webp" rel="icon" type="image/webp" sizes="32x32"><link href="/image/favicon-16x16.webp" rel="icon" type="image/webp" sizes="16x16"><link href="/image/safari-pinned-tab.svg" rel="mask-icon" color="#141a2d"><link href="/feed.xml" rel="alternate" type="application/rss+xml" title="thoughtsunificator.me"><link href="/feed.json" rel="alternate" type="application/json" title="thoughtsunificator.me"><link href="/sitemap.xml" rel="sitemap" type="application/xml" title="Sitemap"><link href="/humans.txt" rel="author" type="text/plain"><meta content="#141a2d" name="msapplication-TileColor"><meta content="#353f5b" name="theme-color"><meta content="Creating a Github action for a Node.js 14+ project" property="description"><meta content="posts, github, github-action, romain lebesle, freelanceur rennes, javascript blog, freelanceur romain lebesle, coding blog, thoughtsunificator, thoughtsunificator blog, thoughtsunificator.me" property="keywords"><meta content="Article" property="article:section"><meta content="https://thoughtsunificator.me" property="article:author"><meta content="2021-09-25T00:00:00.000Z" property="article:published_time"><meta content="posts" property="article:tag"><meta content="github" property="article:tag"><meta content="github-action" property="article:tag"><script type="application/ld+json">{ "@context":"http://schema.org", "@type": "Organization", "@id": "thoughtsunificator.me", "name": "thoughtsunificator.me", "url": "https://thoughtsunificator.me", "logo": { "@type": "ImageObject", "url": "https://thoughtsunificator.me/image/me.webp", "height": 656, "width": 1121 } }</script><script type="application/ld+json" id="website-json-ld">{ "@context":"http://schema.org", "@type":"WebSite", "name":"thoughtsunificator.me", "url":"https://thoughtsunificator.me" }</script><script type="application/ld+json" id="social-json-ld">{ "@context":"http://schema.org", "@type":"Organization", "name":"thoughtsunificator.me", "url":"https://thoughtsunificator.me", "sameAs":[ "https://github.com/thoughtsunificator", "https://www.npmjs.com/~thoughtsunificator", "https://play.google.com/store/apps/developer?id=thoughtsunificator", "https://addons.mozilla.org/en-US/firefox/user/15968837", "https://twitter.com/thoughtsunifier", "https://www.instagram.com/romainlebesle/", "https://romain-lebesle.fr", "https://openuserjs.org/users/thoughtsunificator", "https://www.youtube.com/channel/UCpLQLDuSOwx74AdwPE5CGDA", "https://userstyles.org/users/1256582", "https://greasyfork.org/en/users/257151-thoughtsunificator", "https://www.linkedin.com/in/romain-lebesle" ] }</script><meta content="thoughtsunificator.me" property="og:site_name"><meta content="/image/cover.webp" property="og:image"><meta content="article" property="og:type"><meta content="Creating a Github action for a Node.js 14+ project Â· thoughtsunificator.me" property="og:title"><meta content="Creating a Github action for a Node.js 14+ project" property="og:description"><meta content="https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/" property="og:url"></head><body class="page-post wrap"><header id="header"><h1>a boundless expression of thoughts</h1><nav><a href="/">Home</a><a href="/archive/">Archive</a><a href="/tags/">Tags</a><a href="/categories/">Categories</a><a href="/about/">About</a></nav></header><main id="main"><h2 class="title">Creating a Github action for a Node.js 14+ project</h2><article class="full post"><div class="metas"><time datetime="2021-09-25T00:00:00.000Z">ðŸ“… 25 September 2021</time><div><section class="tags"><h4>Tags</h4><div class="list"><a href="/tags/github/" class="tag">#github</a><a href="/tags/github-action/" class="tag">#github-action</a></div></section><section class="categories"><h4>Categories</h4><div class="list"><a href="/categories/guides/" class="category">Guides</a></div></section></div></div><div class="excerpt"><p>Currently it is <a href="https://github.com/actions/runner/issues/772">not possible</a> to create a <a href="https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action">JavaScript action</a> with a version of nodejs other than 12.</p></div><div id="post-content"><p>First if you donâ€™t know the basics of Github Actions I recommend you go read the <a href="https://docs.github.com/en/actions/creating-actions/about-custom-actions">Starting Guide</a>.</p><p>A workaround to have a version of nodejs > 12 is to create a <a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action">Docker container action</a> with the <a href="https://hub.docker.com/_/node">node:16-alpine</a> image.</p><h3 id="action.yml" tabindex="-1">action.yml</h3><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># See https://docs.github.com/en/actions/creating-actions/metadata-syntax-for-github-actions for more information about the action.yml syntax</span><br><span class="token punctuation">---</span><br><span class="token atrule key">name</span><span class="token punctuation">:</span> <span class="token string">'My Action'</span><br><span class="token atrule key">description</span><span class="token punctuation">:</span> <span class="token string">'What it does..'</span><br><span class="token atrule key">inputs</span><span class="token punctuation">:</span><br>	<span class="token atrule key">your-name</span><span class="token punctuation">:</span><br>		<span class="token atrule key">description</span><span class="token punctuation">:</span> <span class="token string">'Your name'</span><br>		<span class="token atrule key">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token atrule key">runs</span><span class="token punctuation">:</span><br>	<span class="token atrule key">using</span><span class="token punctuation">:</span> <span class="token string">'docker'</span><br>	<span class="token atrule key">image</span><span class="token punctuation">:</span> <span class="token string">'Dockerfile'</span><br></code></pre><h3 id="dockerfile" tabindex="-1">Dockerfile</h3><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># This Dockerfile is inspired from the official document see https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action</span><br>FROM node<span class="token punctuation">:</span>16<span class="token punctuation">-</span>alpine <span class="token comment"># you can the version of your liking see https://hub.docker.com/_/node for more information</span><br>COPY github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src /github/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src <span class="token comment"># we need our Github action source files to be available inside the container so let's copy them to "/github/github-action-src" for now.</span><br>COPY entrypoint.sh /entrypoint.sh<br>ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"/entrypoint.sh"</span><span class="token punctuation">]</span></code></pre><h3 id="entrypoint.sh" tabindex="-1">entrypoint.sh</h3><pre class="language-yaml"><code class="language-yaml"><span class="token comment">#!/bin/sh -l</span><br><br><span class="token comment"># let's create a specific folder for the source files of our github action</span><br><br>mkdir github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src <span class="token comment"># "github/github-action-src" is the folder we put our Github Action source files into using our Dockerfile</span><br>cp <span class="token punctuation">-</span>r /github/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src . <span class="token comment"># now let's copy that folder into the folder for the entire repository "/github/workspace"</span><br><br><span class="token comment"># as we are currently inside the github workspace (/github/workspace) containing the source files of the entire repository</span><br><span class="token comment"># we will need to cd into the folder we previously created "github-action-src"</span><br><span class="token comment"># you could also copy build files and such to "github-action-src" if you need to</span><br>cd github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src<br><br>npm install<br>node index.js</code></pre><p>If you have any question please send me a mail at <a href="mailto:oss@thoughtsunificator.me">oss@thoughtsunificator.me</a>.</p></div></article><script type="application/ld+json">{ "@context": "http://schema.org", "@type": "Article", "@id": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/" }, "url": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/", "headline": "Creating a Github action for a Node.js 14+ project", "description": "Creating a Github action for a Node.js 14+ project", "audience": "web developers and front-end developers", "dateCreated": "2021-09-25T00:00:00.000Z", "datePublished": "2021-09-25T00:00:00.000Z", "dateModified": "2021-09-25T00:00:00.000Z", "articleSection": "Blog", "author": { "@type": "Person", "name": "Romain Lebesle (thoughtsunificator)", "image": { "@type": "ImageObject", "url": "https://thoughtsunificator.me/image/me.webp", "height": 656, "width": 1121 }, "url": "https://thoughtsunificator.me" }, "publisher": { "@id": "thoughtsunificator.me" } }</script></main><footer id="footer"><small>Built using <a href="https://www.11ty.dev/" target="_blank">Eleventy</a></small> <small class="copyright">Â© <a href="https://romain-lebesle.fr" target="_blank" rel="author">Romain Lebesle</a></small><div class="icons"><a href="https://twitter.com/thoughtsunifier" target="_blank" rel="noopener" title="Twitter"><img alt="Twitter Profile" src="/image/twitter.svg" width="32"></a><a href="https://www.youtube.com/channel/UCpLQLDuSOwx74AdwPE5CGDA" target="_blank" rel="noopener" title="Youtube"><img alt="YouTube Channel" src="/image/youtube.svg" width="32"></a><a href="https://github.com/thoughtsunificator" target="_blank" rel="noopener" title="Github"><img alt="View source code on Github" src="/image/github.svg" width="32"></a></div></footer></body></html>