<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Creating a Github action for a Node.js 14+ project | thoughtsunificator.me</title>
		<link rel="icon" type="image/jpeg" href="/favicon.ico">
		<link rel="stylesheet" type="text/css" href="/main.bundle.css">
		<link rel="canonical" href="https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/">
		<link rel="manifest" href="/manifest.webmanifest">
		<link rel="apple-touch-icon" sizes="180x180" href="/image/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/image/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/image/favicon-16x16.png">
		<link rel="mask-icon" href="/image/safari-pinned-tab.svg" color="#141a2d">
		<link rel="alternate" type="application/rss+xml" title="thoughtsunificator.me" href="/feed.xml" />
		<link rel="alternate" type="application/json" title="thoughtsunificator.me" href="/feed.json" />
		<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"/>
		<link type="text/plain" rel="author" href="/humans.txt"/>
		<meta name="msapplication-TileColor" content="#141a2d">
		<meta name="theme-color" content="#353f5b">
		<meta content="Creating a Github action for a Node.js 14+ project" property="description">
		<meta content="posts, github, github-action, romain lebesle, freelanceur rennes, javascript blog, freelanceur romain lebesle, coding blog, thoughtsunificator, thoughtsunificator blog, thoughtsunificator.me" property="keywords">
		<meta property="og:image" content="/image/cover.jpg" />
		<meta content="thoughtsunificator.me" property="og:site_name">
		<meta content="Creating a Github action for a Node.js 14+ project &middot; thoughtsunificator.me" property="og:title">
		<meta content="article" property="og:type">
		<meta content="Creating a Github action for a Node.js 14+ project" property="og:description">
		<meta content="https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/" property="og:url">
		
			<meta content="2021-09-25T00:00:00.000Z" property="article:published_time">
			<meta content="Guides" property="article:section">
			<meta content="posts" property="article:tag"><meta content="github" property="article:tag"><meta content="github-action" property="article:tag">
		
		<script type="application/ld+json">
		{
			"@type": "Organization",
			"@id": "thoughtsunificator.me",
			"name": "thoughtsunificator.me",
			"url": "https://thoughtsunificator.me",
			"logo": {
				"@type": "ImageObject",
				"url": "https://thoughtsunificator.me/image/me.jpg",
				"height": 656,
				"width": 1121
			}
		}
		</script>
		<script type="application/ld+json" id="website-json-ld">
		{
				"@context":"http://schema.org",
				"@type":"WebSite",
				"name":"thoughtsunificator.me",
				"url":"https://thoughtsunificator.me"
		}
		</script>
		<script type="application/ld+json" id="social-json-ld">
		{
				"@context":"http://schema.org",
				"@type":"Organization",
				"name":"thoughtsunificator.me",
				"url":"https://thoughtsunificator.me",
				"sameAs":[
					"https://github.com/thoughtsunificator",
					"https://www.npmjs.com/~thoughtsunificator",
					"https://play.google.com/store/apps/developer?id=thoughtsunificator",
					"https://addons.mozilla.org/en-US/firefox/user/15968837",
					"https://twitter.com/thoughtsunifier",
					"https://romain-lebesle.fr",
					"https://openuserjs.org/users/thoughtsunificator",
					"https://www.youtube.com/channel/UCpLQLDuSOwx74AdwPE5CGDA",
					"https://userstyles.org/users/1256582",
					"https://greasyfork.org/en/users/257151-thoughtsunificator"
				]
		}
		</script>
		
	</head>
	<body class="wrap padding page-post">
		<header id="header">
			<h1>a boundless expression of thoughts</h1>
			<nav>
				<a href="/">Home</a><a href="/archive/">Archive</a><a href="/tags/">Tags</a><a href="/categories/">Categories</a><a href="/about/">About</a>
			</nav>
		</header>
		<main id="main">
			
	<h2 class="title">Creating a Github action for a Node.js 14+ project</h2>
	<article class="post full">
		
<div class="metas">
	<time class="meta post-date" datetime="2021-09-25T00:00:00.000Z">ðŸ“… 25 September 2021</time>
	<div class="tags">
		Categories:
		<div class="list">
			<a class="category" href="/categories/#guides">Guides</a>
		</div>
		Tags:
		<div class="list">
			<a class="tag" href="/tags/#github">#github</a><a class="tag" href="/tags/#github-action">#github-action</a>
		</div>
	</div>
</div>

		
	<div class="excerpt">
		<p>Currently it is <a href="https://github.com/actions/runner/issues/772">not possible</a> to create a <a href="https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action">JavaScript action</a> with a version of nodejs other than 12.</p>

	</div>
	

		<div id="content"><p>
First if you donâ€™t know the basics of Github Actions I recommend you go read the <a href="https://docs.github.com/en/actions/creating-actions/about-custom-actions">Starting Guide</a>.</p>
<p>A workaround to have a version of nodejs &gt; 12 is to create a <a href="https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action">Docker container action</a> with the <a href="https://hub.docker.com/_/node">node:16-alpine</a> image.</p>
<h3 id="action.yml" tabindex="-1">action.yml</h3>
<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># See https://docs.github.com/en/actions/creating-actions/metadata-syntax-for-github-actions for more information about the action.yml syntax</span><br><span class="token punctuation">---</span><br><span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">'My Action'</span><br><span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">'What it does..'</span><br><span class="token key atrule">inputs</span><span class="token punctuation">:</span><br>	<span class="token key atrule">your-name</span><span class="token punctuation">:</span><br>		<span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">'Your name'</span><br>		<span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token key atrule">runs</span><span class="token punctuation">:</span><br>	<span class="token key atrule">using</span><span class="token punctuation">:</span> <span class="token string">'docker'</span><br>	<span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">'Dockerfile'</span><br></code></pre>
<h3 id="dockerfile" tabindex="-1">Dockerfile</h3>
<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># This Dockerfile is inspired from the official document see https://docs.github.com/en/actions/creating-actions/creating-a-docker-container-action</span><br>FROM node<span class="token punctuation">:</span>16<span class="token punctuation">-</span>alpine <span class="token comment"># you can the version of your liking see https://hub.docker.com/_/node for more information</span><br>COPY github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src /github/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src <span class="token comment"># we need our Github action source files to be available inside the container so let's copy them to "/github/github-action-src" for now.</span><br>COPY entrypoint.sh /entrypoint.sh<br>ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"/entrypoint.sh"</span><span class="token punctuation">]</span></code></pre>
<h3 id="entrypoint.sh" tabindex="-1">entrypoint.sh</h3>
<pre class="language-yaml"><code class="language-yaml"><span class="token comment">#!/bin/sh -l</span><br><br><span class="token comment"># let's create a specific folder for the source files of our github action</span><br><br>mkdir github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src <span class="token comment"># "github/github-action-src" is the folder we put our Github Action source files into using our Dockerfile</span><br>cp <span class="token punctuation">-</span>r /github/github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src . <span class="token comment"># now let's copy that folder into the folder for the entire repository "/github/workspace"</span><br><br><span class="token comment"># as we are currently inside the github workspace (/github/workspace) containing the source files of the entire repository</span><br><span class="token comment"># we will need to cd into the folder we previously created "github-action-src"</span><br><span class="token comment"># you could also copy build files and such to "github-action-src" if you need to</span><br>cd github<span class="token punctuation">-</span>action<span class="token punctuation">-</span>src<br><br>npm install<br>node index.js</code></pre>
<p>If you have any question please send me a mail at <a href="mailto:oss@thoughtsunificator.me">oss@thoughtsunificator.me</a>.</p>
</div>
	</article>
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "Article",
			"@id": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/",
			"mainEntityOfPage": {
				"@type": "WebPage",
				"@id": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/"
			},
			"url": "https://thoughtsunificator.me/creating-a-github-action-for-a-nodejs-14-project/",
			"headline": "Creating a Github action for a Node.js 14+ project",
			"description": "Creating a Github action for a Node.js 14+ project",
			"audience": "web developers and front-end developers",
			
			"dateCreated": "2021-09-25T00:00:00.000Z",
			"datePublished": "2021-09-25T00:00:00.000Z",
			"dateModified": "2021-09-25T00:00:00.000Z",
			"articleSection": "Blog",
			"author": {
				"@type": "Person",
				"name": "Romain Lebesle (thoughtsunificator)",
				"image": {
					"@type": "ImageObject",
					"url": "https://thoughtsunificator.me/image/me.jpg",
					"height": 656,
					"width": 1121
				},
				"url": "https://thoughtsunificator.me"
			},
			"publisher": {
				"@id": "thoughtsunificator.me"
			}
		}
	</script>
		</main>
		<footer id="footer">
			<small style="grid-row: 1;grid-column: 1;justify-self: start;">Built using <a href="https://www.11ty.dev/">Eleventy</a></small>
			<small class="copyright">Â© <a target="_blank" href="https://romain-lebesle.fr">Romain Lebesle</a></small>
			<div class="icons">
				<a title="View source code on Github" target="_blank" rel="noopener" href="https://github.com/thoughtsunificator/thoughtsunificator.me"><img alt="View source code on Github" width="32" src="/image/github.svg"></a>
			</div>
		</footer>
	</body>
</html>